<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debug GUIDAL Scripts</title>
</head>
<body>
    <h1>Debug Page</h1>
    <div id="results"></div>

    <script>
        console.log('ğŸ” Debug page loaded');
        document.getElementById('results').innerHTML += '<p>âœ… HTML loaded</p>';
    </script>

    <!-- Test Supabase loading -->
    <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
    <script>
        console.log('ğŸ” Supabase script tag executed');
        if (typeof window.supabase !== 'undefined') {
            console.log('âœ… Supabase loaded successfully');
            document.getElementById('results').innerHTML += '<p>âœ… Supabase loaded</p>';
        } else {
            console.error('âŒ Supabase failed to load');
            document.getElementById('results').innerHTML += '<p>âŒ Supabase failed to load</p>';
        }
    </script>

    <!-- Test local script loading -->
    <script src="js/supabase-client.js"></script>
    <script>
        console.log('ğŸ” Supabase client script tag executed');
        if (typeof GuidalDB !== 'undefined') {
            console.log('âœ… GuidalDB loaded successfully');
            document.getElementById('results').innerHTML += '<p>âœ… GuidalDB loaded</p>';

            // Test database connection
            GuidalDB.testConnection().then(result => {
                if (result) {
                    console.log('âœ… Database connection successful');
                    document.getElementById('results').innerHTML += '<p>âœ… Database connected</p>';

                    // Test activities loading
                    return GuidalDB.getActivities();
                } else {
                    throw new Error('Database connection failed');
                }
            }).then(activities => {
                console.log('âœ… Activities loaded:', activities.length, 'activities');
                document.getElementById('results').innerHTML += `<p>âœ… Loaded ${activities.length} activities</p>`;

                activities.forEach((activity, index) => {
                    document.getElementById('results').innerHTML += `<p>${index + 1}. ${activity.title}</p>`;
                });
            }).catch(error => {
                console.error('âŒ Error:', error);
                document.getElementById('results').innerHTML += `<p>âŒ Error: ${error.message}</p>`;
            });
        } else {
            console.error('âŒ GuidalDB failed to load');
            document.getElementById('results').innerHTML += '<p>âŒ GuidalDB failed to load</p>';
        }
    </script>
</body>
</html>